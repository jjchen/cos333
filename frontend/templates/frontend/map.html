<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

    <meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>{% load staticfiles %}

    {{ form.media }}

    <!--<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" />-->
    <link rel="stylesheet" href="{% static "frontend/bootstrap.min.css" %}" type="text/css">
    <link rel="stylesheet" type="text/css" href="{% static "frontend/style.css" %}" />
    <link rel="stylesheet" type="text/css" href="{% static "frontend/dhtmlxscheduler_dhx_terrace.css" %}" />
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDbkTcw7IQzJtELnuovVYEMDQg-zex6oG0&sensor=true">
    </script>
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
    <script src="{% static "frontend/bootstrap.min.js" %}"></script>
    <script src="{% static "frontend/dhtmlxscheduler.js" %}"></script>
    <script src="{% static "frontend/ext/dhtmlxscheduler_readonly.js"%}" type="text/javascript" charset="utf-8"></script>
    <script src="{% static "frontend/ext/dhtmlxscheduler_dhx_terrace.js"%}" type="text/javascript" charset="utf-8"></script>
    <script src="{% static "frontend/ext/dhtmlxscheduler_tooltip.js"%}" type="text/javascript" charset="utf-8"></script>
    <script src="{% static "frontend/bootstrap-datepicker.js" %}"></script>

<!-- bootstrap stuff that doesn't work -->
    <script type="text/javascript">
      $('.datepicker').datepicker()({
      format: 'yyyy-mm-dd'
      });

    $('.test .typeahead').typeahead({                                   
  name: 'testTypeahead',                                                             
  local: [                                                                    
    "cos",                                                             
    "333",                                                                    
    "music",                                                                    
    "live",                                                                  
    "tv",                                                             
    "soccer",                                                                   
    "tennis",                                                             
    "football",                                                       
    "meeting",                                                                
    "frisbee"                                                                
  ]                                                                           
});
    </script>

     <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
  <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
  <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>

  <!--<script>
  $(function() {
  var availableTags = [
      "ActionScript",
      "AppleScript",
      "Asp",
      "BASIC",
      "C",
      "C++",
      "Clojure",
      "COBOL",
      "ColdFusion",
      "Erlang",
      "Fortran",
      "Groovy",
      "Haskell",
      "Java",
      "JavaScript",
      "Lisp",
      "Perl",
      "PHP",
      "Python",
      "Ruby",
      "Scala",
      "Scheme"
    ];
   names = []

  {% for tag in tags %}
     names.push("{{tag}}");
  {% endfor %}

  $( "#id_tags" ).autocomplete({
    source: names
  });
  });

    </script>-->
    
   <!-- This is for the updating of slider time -->
    <script type="text/javascript">
    function updateSliderInput(field, val) {
      document.getElementById(field).innerHTML=val; 
    }
    //document.getElementById("p1").innerHTML="New text!";
  </script>

    <!--<script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>-->
    <script type="text/javascript" src="{% static "frontend/oms.min.js" %}">
    </script>

    <!-- web fonts for great justice -->
    <link href="http://fonts.googleapis.com/css?family=Arvo" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=PT+Sans" rel="stylesheet" type="text/css">

    <!-- trying out some ajax, YOLO --> 
    <!--<script type="text/javascript" 
    src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>-->
    <script type="text/javascript">

  jQuery(function() {
      var form = jQuery("#eventform");
      var tags = jQuery("#singleFieldTags");
      form.submit(function(e) {
          jQuery("#sendbutton").attr('disabled', true)
          jQuery("#sendwrapper").prepend('<span>Submitting event, please wait... </span>')
          jQuery("#ajaxwrapper").load(
              form.attr('action') + ' #ajaxwrapper',
              form.serializeArray(),
              function(responseText, responseStatus) {
                  jQuery("#sendbutton").attr('disabled', false)
                  jQuery("#eventform").trigger("aCustomEvent")

              }
          );
          e.preventDefault(); 
      });

     jQuery('#search_form2').submit(function(event){
            filter('search');
            event.preventDefault(); 
     });
  });

  </script>



  <!--the older autocomplete-->
  <!-- INSTRUCTIONS -->

    <!-- 2 CSS files are required: -->
    <!--   - Tag-it's base CSS (jquery.tagit.css). -->
    <!--   - Any theme CSS (either a jQuery UI theme such as "flick", or one that's bundled with Tag-it, e.g. tagit.ui-zendesk.css as in this example.) -->
    <!-- The base CSS and tagit.ui-zendesk.css theme are scoped to the Tag-it widget, so they shouldn't affect anything else in your site, unlike with jQuery UI themes. -->
    <link href="{% static "frontend/jquery.tagit.css" %}" rel="stylesheet" type="text/css">
    <link href="{% static "frontend/ui-autocomplete-tag-it.css" %}" rel="stylesheet" type="text/css">
    <link href="{% static "frontend/tagit.ui-zendesk.css" %}" rel="stylesheet" type="text/css">
    <!-- If you want the jQuery UI "flick" theme, you can use this instead, but it's not scoped to just Tag-it like tagit.ui-zendesk is: -->
    <!--<link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1/themes/flick/jquery-ui.css">-->

    <!-- jQuery and jQuery UI are required dependencies. -->
    <!-- Although we use jQuery 1.4 here, it's tested with the latest too (1.8.3 as of writing this.) -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.12/jquery-ui.min.js" type="text/javascript" charset="utf-8"></script>

    <!-- The real deal -->
     <script src="{% static "frontend/tag-it.min.js" %}" type="text/javascript" charset="utf-8"></script>
 
 <script>
        $("#eventform").live("aCustomEvent",function(){
          names = {{locations|safe}}

          $("#id_location").autocomplete({
            source: names
          });

          $(".datepicker").datepicker({ dateFormat: 'yy-mm-dd' });


            var sampleTags = ['cos', '333', 'music', 'needs', 'database', 'integration'];

            names = []

            {% for tag in tags %}
               names.push("{{tag}}");
            {% endfor %}

            //-------------------------------
            // Minimal
            //-------------------------------
            $('#myTags').tagit();

            //-------------------------------
            // Single field
            //-------------------------------
            $('#singleFieldTags').tagit({
                availableTags: names,
                // This will make Tag-it submit a single form value, as a comma-delimited field.
                singleField: true,
                singleFieldDelimiter: " ",
                singleFieldNode: $('#id_tags')
            });

            // singleFieldTags2 is an INPUT element, rather than a UL as in the other 
            // examples, so it automatically defaults to singleField.
            $('#singleFieldTags2').tagit({
                availableTags: sampleTags
            });

            //-------------------------------
            // Preloading data in markup
            //-------------------------------
            $('#myULTags').tagit({
                availableTags: sampleTags, // this param is of course optional. it's for autocomplete.
                // configure the name of the input field (will be submitted with form), default: item[tags]
                itemName: 'item',
                fieldName: 'tags'
            });

            //-------------------------------
            // Tag events
            //-------------------------------
            var eventTags = $('#eventTags');

            var addEvent = function(text) {
                $('#events_container').append(text + '<br>');
            };

            eventTags.tagit({
                availableTags: sampleTags,
                beforeTagAdded: function(evt, ui) {
                    if (!ui.duringInitialization) {
                        addEvent('beforeTagAdded: ' + eventTags.tagit('tagLabel', ui.tag));
                    }
                },
                afterTagAdded: function(evt, ui) {
                    if (!ui.duringInitialization) {
                        addEvent('afterTagAdded: ' + eventTags.tagit('tagLabel', ui.tag));
                    }
                },
                beforeTagRemoved: function(evt, ui) {
                    addEvent('beforeTagRemoved: ' + eventTags.tagit('tagLabel', ui.tag));
                },
                afterTagRemoved: function(evt, ui) {
                    addEvent('afterTagRemoved: ' + eventTags.tagit('tagLabel', ui.tag));
                },
                onTagClicked: function(evt, ui) {
                    addEvent('onTagClicked: ' + eventTags.tagit('tagLabel', ui.tag));
                },
                onTagExists: function(evt, ui) {
                    addEvent('onTagExists: ' + eventTags.tagit('tagLabel', ui.existingTag));
                }
            });

            //-------------------------------
            // Read-only
            //-------------------------------
            $('#readOnlyTags').tagit({
                readOnly: true
            });

            //-------------------------------
            // Tag-it methods
            //-------------------------------
            $('#methodTags').tagit({
                availableTags: sampleTags
            });

            //-------------------------------
            // Allow spaces without quotes.
            //-------------------------------
            $('#allowSpacesTags').tagit({
                availableTags: sampleTags,
                allowSpaces: true
            });

            //-------------------------------
            // Remove confirmation
            //-------------------------------
            $('#removeConfirmationTags').tagit({
                availableTags: sampleTags,
                removeConfirmation: true
            });

            alwaysOn();
            
        });
        
    </script>


      <script type="text/javascript" id="fill_in">
      </script>
      <script type="text/javascript">
        $(function() {
          names = {{locations|safe}}

          {% for u in other_users %}
            names.push("{{u.user_id}}");
          {% endfor %}
          $("#id_location").autocomplete({
            source: names
          });
        })



         var map;
         var idled = false;
         var oms;
         var single_pin = '{% static "frontend/paw_print.png" %}';
         var multi_pin = '{% static "frontend/small_shield.png" %}';
         var geocoder;

         function initialize() {
            var center = new google.maps.LatLng({{center_lat}}, {{center_lon}});
            geocoder = new google.maps.Geocoder();
            var mapOptions = {
               center: center,
               zoom: 17,
               mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            map = new google.maps.Map(document.getElementById("map-canvas"),
               mapOptions);
            oms = new OverlappingMarkerSpiderfier(map, {
               keepSpiderfied: true
            });

            var iw = new google.maps.InfoWindow();
            oms.addListener('click', function (marker) {
               iw.setContent(marker.desc);
               iw.open(map, marker);
            });

            oms.addListener('spiderfy', function (markers) {
               iw.close();
               for (i = 0; i < markers.length; i++) {
                  markers[i].setIcon(single_pin);
               }
            });

            oms.addListener('unspiderfy', function (markers) {
               iw.close();
               for (i = 0; i < markers.length; i++) {
                  markers[i].setIcon(multi_pin);
               }
            });

            google.maps.event.addListener(map, 'idle', function () {
               if (!idled) {
                  var overlapped = oms.markersNearAnyOtherMarker();
                  for (i = 0; i < overlapped.length; i++) {
                     overlapped[i].setIcon(multi_pin);
                  }
               }
               idled = true;
            });

            google.maps.event.addListener(map, 'click', function () {
               iw.close();
               showContent("");
            });
         }
         google.maps.event.addDomListener(window, 'load', initialize);

         function codeAddress(buildingName) {
            geocoder.geocode({
               'address': buildingName
            }, function (results, status) {
               if (status == google.maps.GeocoderStatus.OK) {
                  // map.setCenter(results[0].geometry.location);
                  var marker = new google.maps.Marker({
                     map: map,
                     position: results[0].geometry.location
                  });
                  var contentString = '<div class="infoWindow_content">' +
                     '<h3 class="infoWindow_heading">{{event.name}}</h3>' +
                     '<div id="infoWindow_body">' +
                     '<p>Time: {{event.startTime|date:"D d M Y H:i"}}</p>' +
                     '<p>Location: {{event.location}}</p>' +
                     '</div>' +
                     '</div>';

                  marker.desc = contentString;

                  oms.addMarker(marker);
               } else {
                  //  alert("Geocode was not successful for the following reason: " + status);
               }
            });
         }

         function showContent(id) {
            var elem = document.getElementById('content_wrapper');
            for (i = 0; i < elem.children.length; i++) {
               if (elem.children[i].id != id) {
                  elem.children[i].className = 'hidden';
               } else {
                  elem.children[i].className = (elem.children[i].className == 'hidden') ? 'visible' : 'hidden';
                  if (id == "list_content" && elem.children[i].className == 'visible') makeList();
               }
            }
         }

         var rsvp_list = {};

         function rsvp(id, has_rsvped) {
            var parent = document.getElementById("rsvp_"+id);
            has_rsvped = rsvp_list[id];
            if (!has_rsvped) {
                  $.post('{% url "frontend:addrsvp" %}', {'rsvp_id':id, 'csrfmiddlewaretoken': '{{ csrf_token }}'}, function(json) {
                      var json_parsed = $.parseJSON(json);
                      if(json_parsed.success == 'true') {
                        $("rsvp_"+id).addClass('rsvp');
                        var html = 'un RSVP'
                        parent.innerHTML = html;
                        rsvp_list[id] = true;
                      }
                  });
              
           } else {
              $.post('{% url "frontend:rmrsvp" %}', {'rsvp_id':id, 'csrfmiddlewaretoken': '{{ csrf_token }}'}, function(json) {
                var json_parsed = $.parseJSON(json);

                if(json_parsed.success == 'true') {
                    $("rsvp_"+id).removeClass('rsvp');
                    var html = 'RSVP'
                    parent.innerHTML = html;
                    rsvp_list[id] = false;
                } 
              });
            }
         }

          function filter(type) {
            var data = '';
            if (type == 'search')
              data = $("#search_form2").serialize();
            else if (type == 'tags')
              data = $("#tags_form").serialize();
            else if (type == 'recommended' || type == 'my_events')
              data = {'csrfmiddlewaretoken': '{{csrf_token}}', 'type': type };
            else if (type == 'reload') {
              data = {'csrfmiddlewaretoken': '{{csrf_token}}'}
              if($('input[type=checkbox]:checked').length != 0){
                data = $("#tags_form").serialize();
              }
              if($('#search_query').val()) {
                data = $("#search_form2").serialize();
              }
            }
            else if (type == 'init')
              data = {'csrfmiddlewaretoken': '{{csrf_token}}'}
             $.post('{% url "frontend:filter_init" %}', data, function(htmlResponse) {
                  var old = document.getElementById('fill_in');
                  old.parentNode.removeChild(old);
                  var head = document.getElementsByTagName('head')[0];
                  var element = document.createElement('script');
                  element.setAttribute('type','text/javascript');
                  element.setAttribute('id','fill_in');
                  element.innerHTML = htmlResponse
                  head.appendChild(element);
                  var cal = document.getElementById('calendar_content');
                  var hidden = (cal.className == 'hidden');
                  if (hidden)
                    cal.className = 'visible';
                  showEventsOnMap();
                  init();
                  makeList();
                  if (hidden)
                    cal.className = 'hidden';
              });                
          }
          
          function reloadEvents() {
            filter("reload");
          }
    


      </script>

      <style type="text/css" media="screen">
         /*event in day or week view*/
         .dhx_cal_event.past_event div {
            background-color:purple !important;
            color:white !important;
         }
         /*multi-day event in month view*/
         .dhx_cal_event_line.past_event {
            background-color:
             !important;
            color:white !important;
         }
         /*event with fixed time, in month view*/
         .dhx_cal_event_clear.past_event {
            color:purple !important;
         }
      </style>

      <!-- jQuery bootstrap stylesheets -->
    <link rel="stylesheet" href="{% static "frontend/jquery-ui-1.9.2.custom.css" %}" type="text/css">
    <link rel="stylesheet" href="{% static "frontend/jquery-ui-1.10.0.custom.css" %}" type="text/css">
    <link rel="stylesheet" href="{% static "frontend/jquery.ui.1.9.2.ie.css" %}" type="text/css">
    <link rel="stylesheet" href="{% static "frontend/jquery.ui.1.10.0.ie.css" %}" type="text/css">

  </head>
   
  <body onload="filter('init')">
  <div class="navbar navbar-fixed-top">  
    <div class="navbar-inner">  
      <div class="container">  
        <ul class="nav pull-left">  
          <li>  
            <a class="brand logo" href="#" >Princeton University - OC</a>  
          </li>
        </ul>
        <ul class="nav pull-right">  
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
              <li> notification </li>
              <li> notification </li>
            </ul>
          </li>
          <li class=""><a href="{% url 'frontend:personal' %}">{{user}}</a></li>  
    <!--      <li><a href="% url 'frontend:settings' %}">Settings</a></li> -->
          <li><a href="/locdemo">Demo</a></li>  
          <li>
	    {% if logged_in %}
	    <a href="{% url 'frontend:logout' %}">Logout</a>
	    {% else %}
	    <a href="{% url 'socialauth_begin' 'facebook' %}">Login</a>
	    {% endif %}
	  </li>  
        </ul>
      </div>
    </div>
  </div>
    
  <div id="side_panel">
    <h3>Filter</h3>
    <br/>
    <form id ="search_form2" method="post">{% csrf_token %}
      <div class="input-append">
      <input type="text" id="search_query" placeholder="Search..." name="search_query" class="span2">
      <button type="submit" class="btn">Go</button>
    </div>
    </form>

    <br/>
    <div style='width:100%; height:150px; overflow:scroll;'>
    <form id="tags_form" method="post">{% csrf_token %}
      {% for tag in tags %}
      <input type="checkbox" onclick="filter('tags')" name="tags" value="{{tag}}">{{tag}}</br> 
      {% endfor %}
    </form>
    </div>
    <br/> <a href="{% url 'frontend:index' %}"> All </a>

    <br/> <a href="#" onclick="filter('recommended')"> Recommended </a>
    <br/> <a href="#" onclick="filter('my_events')"> My Events </a>
    <br/>

    <div id="time-slider"></div>
    <span id="SlideMax"></span>
    <br/><span id="time"></span></br>
    <script>
      var startTime;
      var endTime;
      $( "#time-slider" ).slider({
        // 15 minute increments for up to 24-hours
        range: "min",
        value: 720,
        min: 15,
        max: 1455, // extra 15 min for full 24 hours
        step: 15,
        slide: slideTime
      });

      function slideTime(event, ui){
        var val = $("#time-slider").slider("value"),
        startTime = getTime(0);
        endTime = getTime(parseInt(val, 10));
        $("#time").text(startTime + ' - ' + endTime);
      }

      function getTime(plus_min) {
        var time = null;
            currDate = new Date();
            hours = currDate.getHours();
            minutes = Math.floor(currDate.getMinutes()/15)*15;
        minutes = minutes + plus_min;
        if (minutes >= 60) {
          hours = hours + Math.floor(minutes/60);
          minutes = minutes % 60;
        }
        minutes = minutes + "";
        if (hours >= 24) { hours = hours - 24; }
        if (hours < 12) { time = "AM"; }
        else {  time = "PM"; }
        if (hours == 0) { hours = 12; }
        if (hours > 12) { hours = hours - 12; }
        if (minutes.length == 1) { minutes = "0" + minutes; }
        return hours + ":" + minutes + " " + time;
      }

      $("#scheduleSubmit").on('click', function(){
        console.log(startTime);
        console.log(endTime);
        $('#Schedule tbody').append('<tr>' +
            '<td>' + startTime + '</td>' +
            '<td>' + endTime + '</td>' +
            '</tr>');
      });
      
    </script>
    <br/> <a href="#" onclick="filter2('my_events')">Filter Time</a>
  </div>

  <div id="content_wrapper">

    <div id="list_content" class="hidden">
      <div id="list_inner_wrapper">
      </div>
    </div>

    <div id="make_content" class="hidden">
      {%ifnotequal user.username "" %}
      <h3>Make Event</h3>
      {{form.media}}
      <form action="/add/" method="post" id="eventform" class="form-horizontal">{% csrf_token %}
      {{ form.non_field_errors }}
      <div id="ajaxwrapper">
      <div class="row show-grid">
      <div class="span4">
      <div class="control-group {% if form.name.errors %}error{% endif %}">
        <label class="control-label" for="id_name">Name:</label>
        <div class="controls">
        {{ form.name }}
        <span class="help-block">{{ form.name.errors }}</span>
      </div>
    </div>

        <div class="control-group ">
                <label class="control-label" for="id_startTime">Start:</label>
                <div class="controls">
                Date: <input class="datepicker" id="id_startTime_0" name="startTime_0" type="text" /><br/>Time: <input class="span1" id="id_startTime_1" name="startTime_1" type="text" />:<input class="span1" id="id_startTime_2" name="startTime_2" type="text" /> <select class="span1" id="id_startTime_3" name="startTime_3">
<option value="AM">AM</option>
<option value="PM">PM</option>
</select>
                <span class="help-block"></span>
                </div>
            </div>
           <div class="control-group ">
                <label class="control-label" for="id_endTime">End:</label>
                <div class="controls">
                Date: <input class="datepicker" id="id_endTime_0" name="endTime_0" type="text" /><br/>Time: <input class="span1" id="id_endTime_1" name="endTime_1" type="text" />:<input class="span1" id="id_endTime_2" name="endTime_2" type="text" /> <select class="span1" id="id_endTime_3" name="endTime_3">
<option value="AM">AM</option>
<option value="PM">PM</option>
</select>
                <span class="help-block"></span>
                </div>
            </div>

           <div class="control-group {% if form.location.errors %}error{% endif %}">
                <label class="control-label" for="id_location">Location:</label>
                <div class="controls">
                {{ form.location }}
                <span class="help-block">{{ form.location.errors }}</span>
                </div>
            </div>

          </div>

            <div class="span4">
            <div class="control-group {% if form.description.errors %}error{% endif %}">
                <label class="control-label" for="id_description">Description:</label>
                <div class="controls">
                {{ form.description }}
                <span class="help-block">{{ form.description.errors }}</span>
                </div>
            </div>
           <div class="control-group {% if form.private.errors %}error{% endif %}">
                <label class="control-label" for="id_private">Private:</label>
                <div class="controls">
                {{ form.private }}
                <span class="help-block">{{ form.private.errors }}</span>
                </div>
            </div>
           <div class="control-group {% if form.groups.errors %}error{% endif %}">
                <label class="control-label" for="id_groups">Groups:</label>
                <div class="controls">
                {{ form.groups }}
                <span class="help-block">{{ form.groups.errors }}</span>
                </div>
            </div>
           <div class="control-group {% if form.tags.errors %}error{% endif %}">
                <label class="control-label" for="id_tags">Tags:</label>
                <div class="controls">
                {{ form.tags }}
                <ul id="singleFieldTags">
                <script> jQuery("#eventform").trigger("aCustomEvent") </script>
                </ul>
                <span class="help-block">{{ form.tags.errors }}</span>
                </div>
            </div>
            <p><button class="btn btn-primary" type="submit">Save</button></p>
          </div>
          </div>
        </div>
        </form>
        {% else %}
          You have to sign in.
        {% endifnotequal %}
            <li>Import from Facebook</li>
      <li><a rel="nofollow" href="{% url 'django_cas.views.login' %}">CAS</a> 
            </li>
         </div>
         <div id="calendar_content" class="hidden">
            <div id="scheduler_here" class="dhx_cal_container" style='width:100%; height:100%;'>
                <div class="dhx_cal_navline">
                    <div class="dhx_cal_prev_button">&nbsp;</div>
                    <div class="dhx_cal_next_button">&nbsp;</div>
                    <div class="dhx_cal_today_button"></div>
                    <div class="dhx_cal_date"></div>
                    <div class="dhx_cal_tab dhx_cal_tab_first" name="day_tab" style="left:14px;"></div>
                    <div class="dhx_cal_tab" name="week_tab" style="left:75px;"></div>
                    <div class="dhx_cal_tab dhx_cal_tab_last" name="month_tab" style="left:136px;"></div>
                </div>
                <div class="dhx_cal_header">
                </div>
                <div class="dhx_cal_data">
                </div>
            </div>
        </div>
        <div id="settings_content" class="hidden">
             <h3>Settings</h3>
         </div>
      </div>
      <div id="make_button" class="button" onclick="showContent('make_content');">
          <h3>Make</h3>
      </div>

    <div id="calendar_button" class="button" onclick="showContent('calendar_content');">
      <h3>Calendar</h3>
    </div>
    
    <div id="list_button" class="button" onclick="showContent('list_content');">
      <h3>List</h3>
    </div>
    
    <div id="minus_button" class="button" onclick="showContent('none');">
      <h3>-</h3>
    </div>

    <div id="expand_button" class="button hidden" onclick="">
      <h3><small><<</small></h3>
    </div>

    <div id="hide_button" class="button" onclick="">
      <h3><small>>></small></h3>
    </div>

    <div id="map-canvas" style="width:100%;height:100%;"></div>

    <script type="text/javascript">
        $("#expand_button").click(function(){
          $(this).addClass("hidden");
          $("#hide_button").removeClass("hidden");
          $("#side_panel").removeClass("hidden");
        });
        $("#hide_button").click(function(){
          $(this).addClass("hidden");
          $("#expand_button").removeClass("hidden");
          $("#side_panel").addClass("hidden");
        });
    </script>
  </body>
</html>
